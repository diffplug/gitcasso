1. run `pnpm precommit`
2. if tests fail, run `pnpm test -u` might fix them
3. fix other problems manually
4. go back to step 1: `pnpm precommit`